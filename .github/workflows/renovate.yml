name: Renovate

on:
  workflow_dispatch: {}
  schedule:
    # Run during your Renovate schedule window (Australia/Melbourne after 8pm).
    # These times cover both AEST (UTC+10) and AEDT (UTC+11).
    - cron: "30 9 * * *"
    - cron: "30 10 * * *"

concurrency:
  group: renovate
  cancel-in-progress: false

permissions:
  contents: write
  issues: write
  pull-requests: write

jobs:
  renovate:
    runs-on: ubuntu-latest
    env:
      LOG_LEVEL: info
      RENOVATE_AUTODISCOVER: "true"
      RENOVATE_AUTODISCOVER_FILTER: ${{ github.repository }}
    steps:
      - name: Checkout
        uses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5 # v4

      - name: Run Renovate
        uses: renovatebot/github-action@7e1c0fa7cfd2c3e91b27cdd87ae09a6a0fafb5f2 # v41.0.0
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          configurationFile: renovate.json
